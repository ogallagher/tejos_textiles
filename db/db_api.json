{
	"fetch_puzzles": {
		"params": [],
		"query": "select id,title,date,forecolor,backcolor,textcolor,preview from puzzles"
	},
	"fetch_puzzle": {
		"params": ["?puzzle_id?"],
		"query": "select title,date,forecolor,backcolor,textcolor,preview from puzzles where id=?puzzle_id?"
	},
	"fetch_puzzle_paths": {
		"params": ["?puzzle_id?"],
		"query": "select text,shapes_outline,shapes_inline from puzzles where id=?puzzle_id?"
	},
  "fetch_collection_top_rated": {
    "params": [],
    "query": ""
  },
  "fetch_collection_editors_choice": {
    "params": [],
    "query": ""
  },
  "search_puzzles": {
    "params": ["?likes?"],
    "query": "select id,title,date,forecolor,backcolor,textcolor,preview from puzzles where ?likes?"
  },
	"rate": {
		"params": ["?username?","?puzzle_id?","?rating?"],
		"query": "call add_rating('?username?','?puzzle_id?',?rating?)"
	},
	"login": {
		"params": ["?username?","?password?"],
		"query": "call authenticate_person('?username?','?password?')"
	},
	"user_exists": {
		"params": ["?username?"],
		"query": "select exists(select 1 from people where username='?username?' limit 1) as taken"
	},
  "fetch_user": {
    "params": ["?username?"],
    "query": "select username,enabled,admin from people where username='?username?'"
  },
	"fetch_user_details": {
		"params": ["?username?"],
		"query": "select * from people where username='?username?'"
	}
}

