Owen Gallagher
2 August 2019

=== TITLE ===

How to connect to the Textiles//Tejos databases and use their api.

=== PROCEDURE: BACKEND ===

1. Import the mysql nodejs module.

2. db = mysql.createConnection(connect_info); (a) configures the connection.
   db.connect(callback(err)); attempts to connect.

3. db.query(sql, callback(err,res)); To execute a query, where sql is the query string and res is the data returned.

=== PROCEDURE: FRONTEND ===

4. server.js exposes the db connection via http with web clients using the dbserver.js module by handling different routes with different db.query statements.

5. Client-side, to execute a SELECT query, GET (/db, {sql:sql}), where sql is the query string. (b)

6. Client-side, to execute an INSERT or UPDATE query, PUT (/db, {sql:sql}). (c)

=== NOTES ===

(a) The database connection information for both Tejos and Textiles is found in db_config.json.

(b) In a GET request, the sql data is encoded into the request url.

(c) In a POST request, the data is passed in the message body.
